# RHAMT/Windup Analysis
A Github Action that will execute a [RHAMT](https://developers.redhat.com/products/rhamt/overview) analysis to your repository.

> Red Hat Application Migration Toolkit is an assembly of open source tools that enables large-scale application migrations and modernizations. The tooling consists of multiple individual components that provide support for each phase of a migration process. The migrations supported include application platform upgrades, migrations to a cloud-native deployment environment, and also migrations from several commercial products to the Red Hat JBoss Enterprise Application Platform.

## Usage

To integrate RHAMT with your Actions pipeline, specify the name of this repository with a tag number as a `step` within your `ẁorkflow.yml` file.

inside your `.github/workflows/workflow.yml` file:

```yaml
steps:
- uses: actions/checkout@v2
- uses: carlosthe19916/windup-action@master
  id: rhamt
  with:
    target: eap7
    input: myInput #(Optional) Default value $GITHUB_WORKSPACE
    output: myOutput #(Optional) Default value ${GITHUB_WORKSPACE}.report
```

## Arguments
RHAMT's Action accepts 4 different arguments:


| Input        | Description           | Usage  |
| ------------- |:-------------:| -----:|
| target      | The target technology for the application migration. See the --target argument description. | Required |
| input      | A space-delimited list of the path to the file or directory containing one or more applications to be analyzed. This argument is required.      |   Optional |
| output | Specify the path to the directory to output the report information generated by RHAMT.      |    Optional |
| additional-command-line-arguments | Additional RHAMT Command-line Arguments. | Optional |

## Output
RHAMT's Action has only one `output`:
- `report`: The **full path** of the compressed file that contains the report generated by RHAMT.

> NOTE: The `report` output variable is the **Full Path** but the filename is always `rhamt-report.tgz`  
## Example `workflow.yml` with RHAMT Action
```yaml
name: Example workflow for RHAMT
on: [push]
jobs:
  run:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: carlosthe19916/windup-action@master
      id: rhamt
      with:
        target: eap7
```

![RHAMT Report](./screenshot.png "Report generated by RHAMT")
